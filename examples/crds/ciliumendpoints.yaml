---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.3.1-0.20200716001835-4a903ddb7005
  creationTimestamp: null
  name: ciliumendpoints.cilium.io
spec:
  group: cilium.io
  names:
    kind: CiliumEndpoint
    listKind: CiliumEndpointList
    plural: ciliumendpoints
    singular: ciliumendpoint
  scope: Namespaced
  validation:
    openAPIV3Schema:
      description: CiliumEndpoint is the status of a Cilium policy rule.
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        status:
          description: EndpointStatus is the status of a Cilium endpoint.
          properties:
            controllers:
              description: Controllers is the list of failing controllers for this endpoint
              items:
                description: ControllerStatus is the status of a failing controller.
                properties:
                  configuration:
                    description: Configuration is the controller configuration
                    properties:
                      error-retry:
                        description: Retry on error
                        type: boolean
                      error-retry-base:
                        description: 'Base error retry back-off time Format: duration'
                        format: int64
                        type: integer
                      interval:
                        description: 'Regular synchronization interval Format: duration'
                        format: int64
                        type: integer
                    type: object
                  name:
                    description: Name is the name of the controller
                    type: string
                  status:
                    description: Status is the status of the controller
                    properties:
                      consecutive-failure-count:
                        format: int64
                        type: integer
                      failure-count:
                        format: int64
                        type: integer
                      last-failure-msg:
                        type: string
                      last-failure-timestamp:
                        type: string
                      last-success-timestamp:
                        type: string
                      success-count:
                        format: int64
                        type: integer
                    type: object
                  uuid:
                    description: UUID is the UUID of the controller
                    type: string
                type: object
              type: array
            encryption:
              description: Encryption is the encryption configuration of the node
              properties:
                key:
                  description: Key is the index to the key to use for encryption or 0 if encryption is disabled
                  type: integer
              type: object
            external-identifiers:
              description: ExternalIdentifiers is a set of identifiers to identify the endpoint apart from the pod name. This includes container runtime IDs.
              properties:
                container-id:
                  description: ID assigned by container runtime
                  type: string
                container-name:
                  description: Name assigned to container
                  type: string
                docker-endpoint-id:
                  description: Docker endpoint ID
                  type: string
                docker-network-id:
                  description: Docker network ID
                  type: string
                k8s-namespace:
                  description: K8s namespace for this endpoint
                  type: string
                k8s-pod-name:
                  description: K8s pod name for this endpoint
                  type: string
                pod-name:
                  description: K8s pod for this endpoint(Deprecated, use K8sPodName and K8sNamespace instead)
                  type: string
              type: object
            health:
              description: Summary overall endpoint & subcomponent health
              properties:
                bpf:
                  description: bpf
                  type: string
                connected:
                  description: Is this endpoint reachable
                  type: boolean
                overallHealth:
                  description: overall health
                  type: string
                policy:
                  description: policy
                  type: string
              type: object
            id:
              description: The cilium-agent-local ID of the endpoint
              format: int64
              type: integer
            identity:
              description: Identity is the security identity associated with the endpoint
              properties:
                id:
                  description: ID is the numeric identity of the endpoint
                  format: int64
                  type: integer
                labels:
                  description: Labels is the list of labels associated with the identity
                  items:
                    type: string
                  type: array
              type: object
            log:
              description: Log is the list of the last few warning and error log entries
              items:
                description: "EndpointStatusChange Indication of a change of status \n swagger:model EndpointStatusChange"
                properties:
                  code:
                    description: 'Code indicate type of status change Enum: [ok failed]'
                    type: string
                  message:
                    description: Status message
                    type: string
                  state:
                    description: state
                    type: string
                  timestamp:
                    description: Timestamp when status change occurred
                    type: string
                type: object
              type: array
            named-ports:
              description: "NamedPorts List of named Layer 4 port and protocol pairs which will be used in Network Policy specs. \n swagger:model NamedPorts"
              items:
                description: "Port Layer 4 port / protocol pair \n swagger:model Port"
                properties:
                  name:
                    description: Optional layer 4 port name
                    type: string
                  port:
                    description: Layer 4 port number
                    type: integer
                  protocol:
                    description: 'Layer 4 protocol Enum: [TCP UDP ANY]'
                    type: string
                type: object
              type: array
            networking:
              description: Networking properties of the endpoint
              properties:
                addressing:
                  description: IP4/6 addresses assigned to this Endpoint
                  items:
                    description: AddressPair is is a par of IPv4 and/or IPv6 address.
                    properties:
                      ipv4:
                        type: string
                      ipv6:
                        type: string
                    type: object
                  type: array
                node:
                  description: NodeIP is the IP of the node the endpoint is running on. The IP must be reachable between nodes.
                  type: string
              required:
                - addressing
              type: object
            policy:
              description: EndpointPolicy represents the endpoint's policy by listing all allowed ingress and egress identities in combination with L4 port and protocol.
              properties:
                egress:
                  description: EndpointPolicyDirection is the list of allowed identities per direction.
                  properties:
                    adding:
                      description: AllowedIdentityList is a list of AllowedIdentityTuple.
                      items:
                        description: AllowedIdentityTuple specifies an allowed peer by identity, destination port and protocol.
                        properties:
                          dest-port:
                            type: integer
                          identity:
                            format: int64
                            type: integer
                          identity-labels:
                            additionalProperties:
                              type: string
                            type: object
                          protocol:
                            type: integer
                        type: object
                      type: array
                    allowed:
                      description: AllowedIdentityList is a list of AllowedIdentityTuple.
                      items:
                        description: AllowedIdentityTuple specifies an allowed peer by identity, destination port and protocol.
                        properties:
                          dest-port:
                            type: integer
                          identity:
                            format: int64
                            type: integer
                          identity-labels:
                            additionalProperties:
                              type: string
                            type: object
                          protocol:
                            type: integer
                        type: object
                      type: array
                    enforcing:
                      type: boolean
                    removing:
                      description: AllowedIdentityList is a list of AllowedIdentityTuple.
                      items:
                        description: AllowedIdentityTuple specifies an allowed peer by identity, destination port and protocol.
                        properties:
                          dest-port:
                            type: integer
                          identity:
                            format: int64
                            type: integer
                          identity-labels:
                            additionalProperties:
                              type: string
                            type: object
                          protocol:
                            type: integer
                        type: object
                      type: array
                  required:
                    - enforcing
                  type: object
                ingress:
                  description: EndpointPolicyDirection is the list of allowed identities per direction.
                  properties:
                    adding:
                      description: AllowedIdentityList is a list of AllowedIdentityTuple.
                      items:
                        description: AllowedIdentityTuple specifies an allowed peer by identity, destination port and protocol.
                        properties:
                          dest-port:
                            type: integer
                          identity:
                            format: int64
                            type: integer
                          identity-labels:
                            additionalProperties:
                              type: string
                            type: object
                          protocol:
                            type: integer
                        type: object
                      type: array
                    allowed:
                      description: AllowedIdentityList is a list of AllowedIdentityTuple.
                      items:
                        description: AllowedIdentityTuple specifies an allowed peer by identity, destination port and protocol.
                        properties:
                          dest-port:
                            type: integer
                          identity:
                            format: int64
                            type: integer
                          identity-labels:
                            additionalProperties:
                              type: string
                            type: object
                          protocol:
                            type: integer
                        type: object
                      type: array
                    enforcing:
                      type: boolean
                    removing:
                      description: AllowedIdentityList is a list of AllowedIdentityTuple.
                      items:
                        description: AllowedIdentityTuple specifies an allowed peer by identity, destination port and protocol.
                        properties:
                          dest-port:
                            type: integer
                          identity:
                            format: int64
                            type: integer
                          identity-labels:
                            additionalProperties:
                              type: string
                            type: object
                          protocol:
                            type: integer
                        type: object
                      type: array
                  required:
                    - enforcing
                  type: object
              type: object
            state:
              description: "State is the state of the endpoint \n States are: - creating - waiting-for-identity - not-ready - waiting-to-regenerate - regenerating - restoring - ready - disconnecting - disconnected"
              type: string
            visibility-policy-status:
              type: string
          type: object
      required:
        - metadata
        - status
      type: object
  version: v2
  versions:
    - name: v2
      served: true
      storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
