
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.3.1-0.20200716001835-4a903ddb7005
  creationTimestamp: null
  name: localredirectpolicies.cilium.io
spec:
  additionalPrinterColumns:
  - JSONPath: .metadata.creationTimestamp
    name: Age
    type: date
  group: cilium.io
  names:
    kind: LocalRedirectPolicy
    listKind: LocalRedirectPolicyList
    plural: localredirectpolicies
    shortNames:
    - lrp
    singular: localredirectpolicy
  scope: Namespaced
  subresources: {}
  validation:
    openAPIV3Schema:
      description: LocalRedirectPolicy is a Kubernetes Custom Resource that contains a specification to redirect traffic locally within a node.
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: Specification of the desired behavior of the local redirect policy
          properties:
            description:
              description: Description can be used by the creator of the policy to describe the purpose of this policy.
              type: string
            redirectFrom:
              description: RedirectFrom specifies frontend configuration to redirect traffic from. It can not be empty.
              properties:
                L3L4Info:
                  description: ToL3L4Info is a destination tuple {IP, port, protocol} that identifies traffic to be redirected.
                  properties:
                    L4Proto:
                      description: L4Proto is layer 4 protocol number for traffic to be redirected.
                      enum:
                      - TCP
                      - UDP
                      type: string
                    toIP:
                      description: "ToIP is a destination IP address for traffic to be redirected. \n Example: Any traffic destined to '169.254.169.254' is redirected."
                      type: string
                    toPort:
                      description: "ToPort is a destination port for traffic to be redirected. \n Example: Any traffic destined to port '53' is redirected."
                      type: string
                  type: object
                toService:
                  description: "ToService is a destination Kubernetes service that identifies traffic to be redirected. The service namespace must match the namespace of the parent Local Redirect Policy. \n Example: When this field is populated with 'serviceName:myService', all the traffic destined to the cluster IP of this service at the service port will be redirected."
                  properties:
                    k8sService:
                      description: K8sService selects service by name and namespace pair
                      properties:
                        namespace:
                          type: string
                        serviceName:
                          type: string
                      type: object
                    k8sServiceSelector:
                      description: K8sServiceSelector selects services by k8s labels and namespace
                      properties:
                        namespace:
                          type: string
                        selector:
                          description: ServiceSelector is a label selector for k8s services
                          properties:
                            matchExpressions:
                              description: MatchExpressions is a list of label selector requirements. The requirements are ANDed.
                              items:
                                description: A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.
                                properties:
                                  key:
                                    description: key is the label key that the selector applies to.
                                    type: string
                                  operator:
                                    description: operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
                                    enum:
                                    - In
                                    - NotIn
                                    - Exists
                                    - DoesNotExist
                                    type: string
                                  values:
                                    description: values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                            matchLabels:
                              additionalProperties:
                                description: MatchLabelsValue represents the value from the MatchLabels {key,value} pair.
                                maxLength: 63
                                pattern: ^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$
                                type: string
                              description: MatchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
                              type: object
                          type: object
                      required:
                      - selector
                      type: object
                  type: object
              type: object
            redirectTo:
              description: RedirectTo specifies backend configuration to redirect traffic to. It can not be empty.
              properties:
                localEndpointSelector:
                  description: LocalEndpointSelector selects a node local endpoint where traffic is redirected to. Only one backend endpoint can be selected.
                  properties:
                    matchExpressions:
                      description: MatchExpressions is a list of label selector requirements. The requirements are ANDed.
                      items:
                        description: A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.
                        properties:
                          key:
                            description: key is the label key that the selector applies to.
                            type: string
                          operator:
                            description: operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
                            enum:
                            - In
                            - NotIn
                            - Exists
                            - DoesNotExist
                            type: string
                          values:
                            description: values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
                            items:
                              type: string
                            type: array
                        required:
                        - key
                        - operator
                        type: object
                      type: array
                    matchLabels:
                      additionalProperties:
                        description: MatchLabelsValue represents the value from the MatchLabels {key,value} pair.
                        maxLength: 63
                        pattern: ^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$
                        type: string
                      description: MatchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
                      type: object
                  type: object
              type: object
          type: object
        status:
          description: Most recent status of the local redirect policy Read-only
          properties:
            ok:
              description: TODO Define status(aditi)
              type: object
          type: object
      required:
      - metadata
      type: object
  version: v2
  versions:
  - name: v2
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
