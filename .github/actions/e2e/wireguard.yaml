- name: 'wireguard-1'
  kernel: '5.10'
  kube-proxy: 'iptables'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'vxlan'
  encryption: 'wireguard'
  encryption-node: 'false'
  lb-mode: 'snat'
  endpoint-routes: 'true'
  egress-gateway: 'true'
  ingress-controller: 'true'
  # L7 testing: WireGuard encryption + Ingress controller requires L7 proxy for HTTP routing
  test-l7: 'true'
- name: 'wireguard-2'
  kernel: '6.1'
  kube-proxy: 'none'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'vxlan'
  encryption: 'wireguard'
  encryption-node: 'true'
  lb-mode: 'snat'
  egress-gateway: 'true'
  ingress-controller: 'true'
  misc: 'socketLB.hostNamespaceOnly=true'
  local-redirect-policy: 'true'
  node-local-dns: 'true'
  # L7 testing: WireGuard encryption + Ingress controller requires L7 proxy, node local DNS requires DNS proxy
  test-l7: 'true'
- name: 'wireguard-3'
  kernel: '6.12'
  kube-proxy: 'none'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'disabled'
  encryption: 'wireguard'
  encryption-node: 'true'
  encryption-strict-egress: 'true'
  lb-mode: 'snat'
  egress-gateway: 'true'
  ingress-controller: 'true'
  # L7 testing: WireGuard strict mode + Ingress controller - critical for proxy traffic encryption
  test-l7: 'true'
- name: 'wireguard-4'
  kernel: '5.15'
  kube-proxy: 'none'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'geneve'
  lb-mode: 'snat'
  encryption: 'wireguard'
  encryption-node: 'false'
  host-fw: 'true'
  ciliumendpointslice: 'true'
  ingress-controller: 'true'
  # L7 testing: WireGuard encryption + Ingress controller + host firewall - proxy traffic must traverse host firewall
  test-l7: 'true'
- name: 'wireguard-5'
  kernel: '6.12'
  kube-proxy: 'none'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'vxlan'
  underlay: 'ipv6'
  lb-mode: 'snat'
  ingress-controller: 'true'
  encryption: 'wireguard'
  skip-upgrade: 'true'
  # L7 testing: WireGuard encryption + Ingress controller requires L7 proxy for HTTP routing
  test-l7: 'true'
- name: 'wireguard-6'
  kernel: '5.10'
  kube-proxy: 'iptables'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'vxlan'
  encryption: 'wireguard'
  encryption-node: 'false'
  encryption-strict-ingress: 'true'
  # Without strict egress encryption we observed unencrytped host-to-pod packets arriving at cil_from_overlay
  # during startup. This only seems to happen while the agent is still setting up the datapath, so possibly a
  # bpf program attachment ordering issue as the root cause. So for now combine encryption-strict-egress and
  # encryption-strict-ingress in CI.
  encryption-strict-egress: 'true'
  # Upgrades would fail no-unexpected-packet-drops as older cilium versions don't set the decrypted mark
  skip-upgrade: 'true'
  # L7 testing: WireGuard encryption + Ingress controller requires L7 proxy for HTTP routing
  test-l7: 'true'
