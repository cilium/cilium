- name: 'lb-1'
  kernel: '5.15'
  kube-proxy: 'iptables'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'disabled'
  lb-mode: 'dsr'
  endpoint-routes: 'true'
  egress-gateway: 'true'
  host-fw: 'true'
  ingress-controller: 'true'
  # L7 testing: DSR load balancer mode + Ingress controller requires L7 proxy for HTTP routing
  test-l7: 'true'
- name: 'lb-2'
  kernel: '6.1'
  kube-proxy: 'none'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'vxlan'
  lb-mode: 'snat'
  egress-gateway: 'true'
  host-fw: 'true'
  lb-acceleration: 'testing-only'
  ingress-controller: 'true'
  # L7 testing: SNAT load balancer mode + Ingress controller requires L7 proxy for HTTP routing
  test-l7: 'true'
- name: 'lb-3'
  kernel: '6.12'
  kube-proxy: 'none'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'disabled'
  lb-mode: 'snat'
  egress-gateway: 'true'
  lb-acceleration: 'testing-only'
  ingress-controller: 'true'
  local-redirect-policy: 'true'
  node-local-dns: 'true'
  misc: 'bpfClockProbe=false,cni.uninstall=false,tls.secretsBackend=k8s,tls.secretSync.enabled=true'
  # L7 testing: SNAT load balancer + Ingress controller + node local DNS requires DNS proxy
  test-l7: 'true'
- name: 'lb-4'
  # Switch to 5.15 until https://github.com/cilium/cilium/issues/27642
  # has been resolved. https://github.com/cilium/cilium/pull/30837#issuecomment-1960897445
  # explains why 5.4 might cause north-south-loadbalancing tests to
  # fail.
  kernel: '5.15'
  kube-proxy: 'iptables'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'vxlan'
  lb-mode: 'snat'
  egress-gateway: 'true'
  lb-acceleration: 'testing-only'
  ingress-controller: 'true'
  # L7 testing: SNAT load balancer mode + Ingress controller requires L7 proxy for HTTP routing
  test-l7: 'true'
- name: 'lb-5'
  kernel: '6.12'
  kube-proxy: 'none'
  kpr: 'true'
  devices: '{eth0,eth1}'
  secondary-network: 'true'
  tunnel: 'disabled'
  lb-mode: 'dsr'
  ingress-controller: 'true'
  misc: 'bpfClockProbe=false,cni.uninstall=false,tls.secretsBackend=k8s,tls.secretSync.enabled=true,tunnelProtocol=geneve,loadBalancer.dsrDispatch=geneve'
  # L7 testing: DSR load balancer mode + Ingress controller requires L7 proxy for HTTP routing
  test-l7: 'true'
