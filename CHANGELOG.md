# Changelog

## v1.18.0-pre.0

Summary of Changes
------------------

**Major Changes:**
* Added an experimental xDS client library (cilium/cilium#34484, @AwesomePatrol)
* bandwidth: support ingress rate limiting using eBPF token bucket (cilium/cilium#36351, @l1b0k)
* Introduces cilium-config ConfigMap monitoring, allowing the agent to automatically synchronize changes in designated sources with its in-memory database. A new drift checker compares the ingested configurations with the agent's configuration, logging any differences and publishing metrics for easy tracking of configuration drifts. (cilium/cilium#36510, @ovidiutirla)

**Minor Changes:**
* .Values.bpf.autoMount.enabled now functions as documented, and only serves to automatically mount the BPF FS in an initContainer if it was not already present on the host. If it was already present on the host, this value can be set to false to achieve a fully non-privileged deployment. (cilium/cilium#37733, @rptaylor)
* ``cilium_agent_bootstrap_seconds`` metric type changed from histogram to gauge (cilium/cilium#37576, @giorio94)
* Add a hook point to an early stage of XDP path (cilium/cilium#37873, @aspsk)
* Add Hubble export compression to Helm chart (cilium/cilium#36490, @ozerovandrei)
* add scrapeTimeout to serviceMonitors in helm (cilium/cilium#37789, @itspooya)
* Added possibility to run kvstoremesh with external etcd. (cilium/cilium#36216, @balous)
* Adds support for the CNI STATUS operation (https://github.com/containernetworking/cni/blob/main/SPEC.md#status-check-plugin-status) (cilium/cilium#37028, @architkulkarni)
* Adds the ability to reference a ConfigMap to get the Kubernetes Service Endpoint when installing with Helm. (cilium/cilium#37305, @kejne)
* Allow cilium to use eBPF ring buffers from Go and eBPF sides (cilium/cilium#37872, @aspsk)
* api: Conditionally register GatewayAPI related CRDs (cilium/cilium#37767, @sayboras)
* bgp: Introducing mac address based router-id generation. (cilium/cilium#36451, @yushoyamaguchi)
* bgp: report reconcile errors in CiliumBGPNodeConfig conditions. (cilium/cilium#37486, @harsimran-pabla)
* BGPv2:  Support overlapping selector matches on CiliumBGPAdvertisement (cilium/cilium#36414, @dswaffordcw)
* bgpv2: add support for node-specific LocalASN in CiliumBGPNodeConfigOverride (cilium/cilium#36597, @bblackburn)
* bgpv2: Allow setting LocalPort from ClusterConfig (cilium/cilium#37476, @YutaroHayakawa)
* bpf: nat: support ICMPV6_DEST_UNREACH in egress path (cilium/cilium#37766, @julianwiedmann)
* Cilium CLI IPsec fixes (cilium/cilium#37018, @viktor-kurchenko)
* Cilium CLI now captures Tetragon helm data when performing `cilium sysdump`. (cilium/cilium#36749, @f1ko)
* cilium-cli/sysdump: relax extra-label-selectors to target all namespaces (cilium/cilium#37715, @giorio94)
* cilium-cli: collect Cilium Agent logs from crashing / not ready / restarted pods (cilium/cilium#37013, @marseel)
* cilium-dbg: add logging options (cilium/cilium#36802, @antonipp)
* CiliumEndpointSlice: batching mode defaults to first-come-first-serve mode and identity-based mode was removed (cilium/cilium#37211, @marseel)
* cli: Add support for helm --max-history command line flag (cilium/cilium#36677, @marcofranssen)
* cli: aws mixed nodes install fix (cilium/cilium#36336, @viktor-kurchenko)
* cli: Improve fetching of Cilium component logs in failure scenarios (cilium/cilium#37160, @joestringer)
* cli: restrict conn test to ip families (cilium/cilium#37000, @viktor-kurchenko)
* clustermesh: add annotations and labels sync to MCS-API (cilium/cilium#36308, @MrFreezeex)
* Collect a histogram and show the distribution of the number of attempts needed to allocate a port for SNAT. (cilium/cilium#36730, @gentoo-root)
* connectivity health checking: introduce dynamic probing interval based on cluster size and configurable probing frequency for improved performance at scale (cilium/cilium#36175, @jshr-w)
* Enable client-go exponential backoff in cilium agent by default. (cilium/cilium#36648, @wedaly)
* envoy add stream idle timeout configuration option (cilium/cilium#34592, @chengjoey)
* envoy: Bump envoy to 1.32.3 (cilium/cilium#36743, @sayboras)
* Explicitly display protocol for ICMP packet drop notifications (cilium/cilium#37549, @antonipp)
* Extend cilium-cli connectivity perf to allow testing egress gateway performance (cilium/cilium#37748, @giorio94)
* fix: Change CNI CHECK Error Code from 1 to 101 (cilium/cilium#37001, @architkulkarni)
* gateway-api: Add support for ParametersRef in GatewayClass (cilium/cilium#37402, @sayboras)
* gateway-api: Reconcile for All Routes changes (cilium/cilium#37798, @sayboras)
* gateway-api: Support LoadBalancerSourceRangesPolicy in CGCC (cilium/cilium#37792, @sayboras)
* helm: add configuration for node-labels (cilium/cilium#36662, @oblazek)
* Helm: adjust hubble relay securityContext to adhere to restricted Pod Security Standards. (cilium/cilium#37571, @rptaylor)
* Helm: Cilium agent startup probe failure threshold increased to 300 (cilium/cilium#36897, @soggiest)
* hubble-relay: remove deprecated dial-timeout flag (cilium/cilium#37314, @devodev)
* hubble: accurately report startup failure reason from cilium status (cilium/cilium#37567, @devodev)
* k8s: add support for annotations on cilium-secret namespaces (cilium/cilium#37482, @1602077)
* KVStoreMesh: Optimize cross-cluster state distribution by only synchronizing identities keyed by ID, not by value (cilium/cilium#36471, @HadrienPatte)
* metrics: add pressure metric for fragmentation map (cilium/cilium#37657, @Jack-R-lantern)
* New agent option `--policy-restore-timeout` (default 3m) has been added to bound the maximum time Cilium agent waits for endpoint policies to regenerate before starting serving resources to `cilium-envoy` proxy. (cilium/cilium#37658, @jrajahalme)
* Remove external-workload feature from Cilium and cilium-cli. Use previous version of cilium-cli if needed to provision unsupported external-workload clusters. (cilium/cilium#37418, @brb)
* Remove high-scale ipcache mode (cilium/cilium#36898, @pchaigno)
* Replace the deprecated workqueue with the generic TypedWorkqueue (cilium/cilium#37269, @alvaroaleman)
* Significantly improve processing of egress gateway policies matching a large number of pods (cilium/cilium#37714, @giorio94)
* Significantly reduce memory usage during cilium-cli sysdump collection (cilium/cilium#36987, @giorio94)
* The .Values.name variable to optionally configure agent pod names now functions as intended. (cilium/cilium#37572, @rptaylor)
* The Policy section of the Cilium Grafana dashboard has been improved to show more relevant graphs. (cilium/cilium#36492, @squeed)
* Update Azure go SDK (cilium/cilium#36751, @HadrienPatte)
* Use batched iterator for CTMap GC (cilium/cilium#36288, @tommyp1ckles)
* When allocating a source port for SNAT, reduce the number of retry attempts from 128 to 32. (cilium/cilium#37389, @gentoo-root)
* xds: Add ack and nack metrics (cilium/cilium#37078, @sayboras)

**Bugfixes:**
* Apply Egress bandwith-limiting only once for traffic that is matched by an Egress Gateway policy. (cilium/cilium#37674, @julianwiedmann)
* Auth policy is properly maintained also when covered by proxy redirects. (cilium/cilium#37685, @jrajahalme)
* Cilium CLI fix for AWS ENI mode (cilium/cilium#36887, @viktor-kurchenko)
* datapath: Prefer IPv6 global address to link-local for direct routing. (cilium/cilium#37839, @sypakine)
* Fix bug causing `cilium-dbg bpf` commands to fail with a map not found error in IPv6-only clusters. (cilium/cilium#37787, @pchaigno)
* Fix creation and deletion of host port maps that would occasionally leave pods without them (cilium/cilium#37419, @javanthropus)
* Fix detection of iptables features on kernels with modules disabled. (cilium/cilium#36321, @gentoo-root)
* Fix envoy metrics could not be obtained on IPv6-only clusters (cilium/cilium#37818, @haozhangami)
* Fix helm charts to properly configure tls and peer service for dynamic Hubble metrics. (cilium/cilium#37543, @rectified95)
* Fix the possible race condition caused by async update from aws to instance map in issue #36428 (cilium/cilium#37650, @liyihuang)
* identity: fix bug where fromNodes/toNodes could be used to allow custom endpoint (cilium/cilium#36657, @oblazek)
* Skip rate limiting endpoint deletion when container has already been deleted. (cilium/cilium#36645, @sypakine)
* Stop TLS Interception config being included in preflight (cilium/cilium#37820, @youngnick)
* When cilium-operator managing identities is enabled, cilium-operator LISTs CiliumEndpointSlice only if CES is enabled. (cilium/cilium#36409, @wedaly)

**CI Changes:**
* .github: Run BPF Linters on changes to infra (cilium/cilium#37755, @joestringer)
* .github: Use --interactive=false more widely (cilium/cilium#37392, @joestringer)
* .github: Use dedicated go cache on CI (cilium/cilium#37783, @joestringer)
* Add --external-other-target parameter to cilium CLI connectivity tests. (cilium/cilium#36080, @wedaly)
* Add EGW masquerade delay scale test (cilium/cilium#34431, @learnitall)
* Add explicit IPv6 testing to PodToService cilium-cli connectivity test (cilium/cilium#37544, @saiaunghlyanhtet)
* adds cilium-runtime as environment variable (cilium/cilium#37208, @Artyop)
* ariane: Stop running v1.14 GitHub workflows (cilium/cilium#37807, @joestringer)
* bgpv1: Extend adverts tests duration timeout (cilium/cilium#37284, @rastislavs)
* bgpv1: wait for watchers to be ready in tests (cilium/cilium#37884, @harsimran-pabla)
* bgpv2: Test_MergeRoutePolicies statements can be unordered (cilium/cilium#36846, @harsimran-pabla)
* bpf: tests: populate L4 protocol in service entries (cilium/cilium#37883, @julianwiedmann)
* call for metrics in smoke tests from runner instead of installing apt/curl on cilium pod (cilium/cilium#37362, @Artyop)
* Change client-egress-l7-tls tests to sequential because flaky (cilium/cilium#36568, @youngnick)
* ci-aks: Enable dual-stack in Conformance AKS (cilium/cilium#37704, @gandro)
* ci: fix base image build CI (cilium/cilium#37840, @nbusseneau)
* CI: GKE backslash missing disable insecure kubelet (cilium/cilium#37850, @auriaave)
* CI: GKE, disable insecure kubelet readonly port (cilium/cilium#37844, @auriaave)
* ci: increase global timeout for Envoy Embedded github action workflow (cilium/cilium#37752, @mhofstetter)
* ci: set --interactive=false for cilium status in delegated ipam e2e (cilium/cilium#37368, @wedaly)
* cilium-cli/connectivity: additionally check for container restarts (cilium/cilium#36299, @giorio94)
* cilium-cli/connectivity: Fix output for LRP tests (cilium/cilium#37893, @pchaigno)
* cilium-cli/connectivity: only check container restarts on v1.17+ (cilium/cilium#37823, @giorio94)
* cilium-cli: Add envoy log pattern in error check (cilium/cilium#36498, @sayboras)
* cilium-cli: add explicit IPv6 testing to PodToK8sLocal (cilium/cilium#37461, @saiaunghlyanhtet)
* cilium-cli: extend no-interrupted-connections to test NodePort from outside (cilium/cilium#37294, @ysksuzuki)
* cilium-cli: Fix GITHUB_WORKFLOW_REF parsing (cilium/cilium#37686, @joestringer)
* cli: Attribute test failures outside of action failures (cilium/cilium#37757, @joestringer)
* CLI: Attribute tests to codeowners (cilium/cilium#37027, @joestringer)
* cli: Clean up Makefile (cilium/cilium#37911, @michi-covalent)
* cli: connectivity: Log tcpdump cmd on error (cilium/cilium#37822, @jschwinger233)
* CODEOWNERS: Assign ownership for cloud teams (cilium/cilium#37781, @joestringer)
* Configure renovate to update all cloud provider SDKs monthly (cilium/cilium#37087, @HadrienPatte)
* connectivity: Add retry all error for L7 header related test (cilium/cilium#37010, @sayboras)
* contrib: Reverse default for running builder as root (cilium/cilium#37756, @joestringer)
* datapath/linux: Refactor device controller tests to use scripttest (cilium/cilium#37826, @rastislavs)
* Egress Gateway performance testing (cilium/cilium#37753, @giorio94)
* Enable dual stack k8s conformance testing (cilium/cilium#37559, @dylandreimerink)
* endpoint: enable tests run multiple times (cilium/cilium#36931, @jrajahalme)
* Fix egress device computation in cli connectivity pod-to-pod-encryption-v2 tests for AWS chaining mode. (cilium/cilium#37680, @smagnani96)
* gh: ci-e2e-upgrade: Add encryption leak checks for wireguard (cilium/cilium#37551, @jschwinger233)
* gh: e2e-upgrade: don't explicitly enable BPF masquerading with KPR=true (cilium/cilium#36865, @julianwiedmann)
* gh: e2e-upgrade: don't skip upgrade for netkit configs (cilium/cilium#36746, @julianwiedmann)
* gh: e2e-upgrade: enable HostFW in config 5 (cilium/cilium#36745, @julianwiedmann)
* gh: fix network performance testing (cilium/cilium#37875, @marseel)
* gh: ipsec-upgrade: use node-specific boot ID (cilium/cilium#37639, @julianwiedmann)
* gh: ipsec-upgrade: use node-specific boot ID (part 2) (cilium/cilium#37667, @julianwiedmann)
* gh: remove some v1.14 parts (cilium/cilium#37493, @julianwiedmann)
* gh: update naming for bpftrace leak detection script (cilium/cilium#37865, @julianwiedmann)
* gha/scale-egw: fix waiting for images availability (cilium/cilium#37922, @giorio94)
* gha: use /test to trigger tests in stable branches (cilium/cilium#36672, @giorio94)
* gha: Use ubuntu-24.04 for all workflows (cilium/cilium#36653, @sayboras)
* Ignore encrypt interface field when validating option.Config after initialization (cilium/cilium#37184, @Artyop)
* ipsec: Fix XFRM leak test for encrypted overlay (cilium/cilium#37307, @pchaigno)
* labelsfilter: Update the unit test with the doc example (cilium/cilium#36566, @liyihuang)
* lint-build-commits: Skip full Hubble build for intermediate commits (cilium/cilium#37750, @gandro)
* Miscellaneous improvements to the Egress Gateway scale test (cilium/cilium#37611, @giorio94)
* Miscellaneous improvements to the Egress Gateway scale test (part 2) (cilium/cilium#37867, @giorio94)
* Miscellaneous improvements to the setup-eks-cluster GH action (cilium/cilium#37640, @giorio94)
* renovate: Bump cilium-envoy version for stable branches (cilium/cilium#37158, @sayboras)
* renovate: pin renovate image version in config validator workflow (cilium/cilium#36914, @tklauser)
* Revert "renovate: exclude complexity-test image on v1.14 / v1.15" (cilium/cilium#36696, @tklauser)
* Revert runtime image preparation via environment variables (cilium/cilium#37156, @joestringer)
* Set runtime image in an action outside of env variable settings (cilium/cilium#37595, @Artyop)
* tables: deflake direct routing device test (cilium/cilium#37220, @bimmlerd)
* test/fuzzing: Fix fuzzing test failure (cilium/cilium#37159, @christarazi)
* test: Add negative test case for TLS SNI (cilium/cilium#37122, @sayboras)
* test: Move tgraf/netperf image to Quay (cilium/cilium#37458, @pchaigno)
* test: Remove RuntimeSSHTests (cilium/cilium#37860, @joestringer)
* test: remove unused registry-adder chart (cilium/cilium#36986, @tklauser)
* Update CI Chart Push workflow mechanism to workflow_call (cilium/cilium#37030, @chancez)
* workflows/e2e: Revert bpf/bpf-next image updates (cilium/cilium#37485, @pchaigno)
* workflows/ipsec: Fix key count in case of EO (cilium/cilium#37451, @pchaigno)
* workflows: Merge Hubble build in build workflow (cilium/cilium#37414, @pchaigno)
* workflows: Remove External Workload coverage (cilium/cilium#37447, @pchaigno)

**Misc Changes:**
* .github: generate feature summary report from CI (cilium/cilium#36933, @aanm)
* [docs] Improve the Quick Start dev setup section (cilium/cilium#36646, @pmatulis)
* add cilium-runtime image prefix to env var (cilium/cilium#37802, @Artyop)
* Add Docaposte to USERS.md (cilium/cilium#36811, @albundy83)
* Add Guidewire inc to the adopters (cilium/cilium#37128, @shreyasHpandya)
* Add SINAD to the adopters (cilium/cilium#37176, @arezki-ouhenia)
* Add sloglint and fix issues (cilium/cilium#37851, @aanm)
* Add TRACE_{FROM/TO}_CRYPTO observation point and bpf metrics for packets forwarded-to/received-from Wireguard. (cilium/cilium#34958, @smagnani96)
* Added EvoCloud to the list of USERS.md (cilium/cilium#37499, @geanttechnology)
* always render enable-hubble in the Cilium configmap (cilium/cilium#37703, @kaworu)
* api/v1: remove unused generated deepcopy methods (cilium/cilium#36667, @tklauser)
* Azure IPAM: Improve operation at scale by using better APIs to resync individual instances as required, rather than resyncing all instances (cilium/cilium#37430, @HadrienPatte)
* bgp: Decouple CRD from Router interface (cilium/cilium#37396, @YutaroHayakawa)
* bgp: improve reconciler error handling (cilium/cilium#37420, @harsimran-pabla)
* bgpv1: Extend component test timeout (cilium/cilium#37370, @YutaroHayakawa)
* bgpv2: decouple instance registration and reconcile errors (cilium/cilium#36934, @harsimran-pabla)
* bgpv2: Pass copy of BGPNodeConfig to reconcilers (cilium/cilium#36595, @rastislavs)
* bgpv2: SortRouteStatementsByName to use cmp pkg for sorting (cilium/cilium#36888, @harsimran-pabla)
* bpf/encap: Avoid checking `encrypt_key` twice (cilium/cilium#36844, @pchaigno)
* bpf/tests: remove leftover debug statements (cilium/cilium#37011, @rgo3)
* bpf: clean up use of ENABLE_ROUTING in non-endpoint programs (cilium/cilium#37049, @julianwiedmann)
* bpf: egressgw: let gateway node identify reply traffic as WORLD_ID (cilium/cilium#36911, @julianwiedmann)
* bpf: Fix RFC reference for NAT64 (cilium/cilium#37050, @qmonnet)
* bpf: harmonize cilium_host / cilium_net macro naming (cilium/cilium#37082, @julianwiedmann)
* bpf: host: clean up redundant check for ipcache match (cilium/cilium#37019, @julianwiedmann)
* bpf: host: defer dmac rewrite in from-host path (cilium/cilium#37324, @julianwiedmann)
* bpf: host: identify Cilium's Wireguard traffic as from HOST (cilium/cilium#37956, @julianwiedmann)
* bpf: Lift bind rejection for L7 services going via Envoy (cilium/cilium#37183, @borkmann)
* bpf: lxc: minor cleanups in proxy-related ingress path (cilium/cilium#37842, @julianwiedmann)
* bpf: lxc: remove stale comment regarding rev_nat_index for loopback packet (cilium/cilium#37918, @julianwiedmann)
* bpf: Makefile improvement (cilium/cilium#36956, @viktor-kurchenko)
* bpf: move some conditional includes, simplify SECLABEL, remove elf-demo.c (cilium/cilium#37207, @ti-mo)
* bpf: nat: cosmetic improvements for snat_v*_needs_masquerade() (cilium/cilium#37547, @julianwiedmann)
* bpf: nat: ICMP v4 improvements (cilium/cilium#36767, @julianwiedmann)
* bpf: nat: simplify local_ep path in snat_v*_needs_masquerade() (cilium/cilium#36879, @julianwiedmann)
* bpf: nodeport: improve checks for !defined(IS_BPF_OVERLAY) (cilium/cilium#36971, @julianwiedmann)
* bpf: overlay: report REMOTE_NODE_ID when forwarding service replies (cilium/cilium#37017, @julianwiedmann)
* bpf: reduce CTX_ACT_DROP usage in datapath (cilium/cilium#37573, @julianwiedmann)
* bpf: remove guards around CILIUM_NET_IFINDEX / CILIUM_HOST_MAC (cilium/cilium#37323, @julianwiedmann)
* bpf: Remove misnamed `node_id` variable (cilium/cilium#36842, @pchaigno)
* bpf: Remove unnecessary `__maybe_unused` (cilium/cilium#36843, @pchaigno)
* bpf: remove unused world_cidrs_key4 (cilium/cilium#37075, @julianwiedmann)
* bpf: tests: add ctx_{mark_}is_wireguard helper tests (cilium/cilium#35899, @smagnani96)
* bugtool: document removal of k8s-mode in upgrade guide (cilium/cilium#37699, @mhofstetter)
* bugtool: remove k8s-mode (cilium/cilium#36632, @mhofstetter)
* chore(deps): Bump cilium/proxy to the latest (cilium/cilium#37635, @sayboras)
* chore(deps): update all github action dependencies (main) (cilium/cilium#36757, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#36946, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37070, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37112, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37196, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37304, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37408, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37500, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37815, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#37942, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (patch) (cilium/cilium#36756, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (patch) (cilium/cilium#37195, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (patch) (cilium/cilium#37661, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (patch) (cilium/cilium#37811, @cilium-renovate[bot])
* chore(deps): update all lvh-images main (main) (patch) (cilium/cilium#36698, @cilium-renovate[bot])
* chore(deps): update all lvh-images main (main) (patch) (cilium/cilium#36834, @cilium-renovate[bot])
* chore(deps): update all lvh-images main (main) (patch) (cilium/cilium#36847, @cilium-renovate[bot])
* chore(deps): update all lvh-images main (main) (patch) (cilium/cilium#36942, @cilium-renovate[bot])
* chore(deps): update all lvh-images main (main) (patch) (cilium/cilium#37406, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#36706, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#36855, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#36883, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#36943, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#37031, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#37199, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#37341, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#37660, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#37768, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#37810, @cilium-renovate[bot])
* chore(deps): update cilium/cilium-cli action to v0.16.23 (main) (cilium/cilium#37302, @cilium-renovate[bot])
* chore(deps): update dependency cilium/cilium-cli to v0.16.23 (main) (cilium/cilium#36893, @cilium-renovate[bot])
* chore(deps): update dependency cilium/cilium-cli to v0.16.24 (main) (cilium/cilium#37336, @cilium-renovate[bot])
* chore(deps): update dependency cilium/cilium-cli to v0.17.0 (main) (cilium/cilium#37786, @cilium-renovate[bot])
* chore(deps): update dependency cilium/cilium-cli to v0.18.0 (main) (cilium/cilium#37940, @cilium-renovate[bot])
* chore(deps): update dependency cilium/little-vm-helper to v0.0.21 (main) (cilium/cilium#37213, @cilium-renovate[bot])
* chore(deps): update dependency cilium/little-vm-helper to v0.0.23 (main) (cilium/cilium#37407, @cilium-renovate[bot])
* chore(deps): update dependency go to v1.23.5 (main) (cilium/cilium#37303, @cilium-renovate[bot])
* chore(deps): update dependency go to v1.24.0 (main) (cilium/cilium#37569, @cilium-renovate[bot])
* chore(deps): update docker.io/library/golang docker tag to v1.24.0 (main) (cilium/cilium#37603, @cilium-renovate[bot])
* chore(deps): update docker.io/library/golang:1.23.4 docker digest to 7ea4c9d (main) (cilium/cilium#36808, @cilium-renovate[bot])
* chore(deps): update docker.io/library/golang:1.23.5 docker digest to 8c10f21 (main) (cilium/cilium#37178, @cilium-renovate[bot])
* chore(deps): update docker.io/library/golang:1.24.0 docker digest to 3f74443 (main) (cilium/cilium#37938, @cilium-renovate[bot])
* chore(deps): update go to v1.23.5 (main) (cilium/cilium#37064, @cilium-renovate[bot])
* chore(deps): update go to v1.23.6 (main) (cilium/cilium#37495, @cilium-renovate[bot])
* chore(deps): update golangci/golangci-lint docker tag to v1.63.4 (main) (cilium/cilium#36945, @cilium-renovate[bot])
* chore(deps): update golangci/golangci-lint docker tag to v1.64.2 (main) (cilium/cilium#37570, @cilium-renovate[bot])
* chore(deps): update golangci/golangci-lint docker tag to v1.64.5 (main) (cilium/cilium#37663, @cilium-renovate[bot])
* chore(deps): update module github.com/go-jose/go-jose/v4 to v4.0.5 [security] (main) (cilium/cilium#37832, @cilium-renovate[bot])
* chore(deps): update quay.io/cilium/cilium-envoy docker tag to v1.32.3-1737449866-585ba14700a2c729f024d9f0b2c694bc83a908a2 (main) (cilium/cilium#37111, @cilium-renovate[bot])
* chore(deps): update quay.io/cilium/cilium-envoy docker tag to v1.32.3-1740976227-c3c35d52ca3b699de1f9448ab7174a9bdcb13f69 (main) (cilium/cilium#37939, @cilium-renovate[bot])
* ci/connectivity: Don't apply cnp to conn-disrupt pods in 1.15, 1.14 (cilium/cilium#36682, @jschwinger233)
* ci: run build steps as concurrent jobs in lint-build-commits (cilium/cilium#37754, @devodev)
* ci: update docs-builder (cilium/cilium#37615, @joestringer)
* Cilium CLI: Trim EKS cluster ARN to extract valid cluster name (cilium/cilium#36952, @jaehanbyun)
* cilium-builder: add buf (cilium/cilium#37534, @will-isovalent)
* cilium-cli/connectivity: ignore hubble-ui warning in no-errors-in-logs test (cilium/cilium#37563, @tklauser)
* cilium-cli/sysdump: drop obsolete CiliumEgressNATPolicy entry (cilium/cilium#37584, @giorio94)
* cilium-cli: do not print checkmarks for non-binary values (cilium/cilium#36890, @aanm)
* cilium-cli: enable websockets for k8s exec (cilium/cilium#37538, @asauber)
* cilium-cli: Ignore k8s client network error warning (cilium/cilium#37773, @jrajahalme)
* cilium-cli: Only use --curl-parallel when expecting success (cilium/cilium#37803, @jrajahalme)
* cilium-cli: re-fix GITHUB_WORKFLOW_REF parsing (cilium/cilium#37707, @kaworu)
* cilium-cli: skip some IPv6 connectivity tests for Cilium<1.14 when IPsec is enabled (cilium/cilium#36664, @jschwinger233)
* cilium-dbg: Use node name in shell prompt (cilium/cilium#37853, @joamaki)
* cilium: Allow to configure tunnel source port range (cilium/cilium#37777, @borkmann)
* cilium: Pull in vxlan netlink Go fix and uncomment assertion in test (cilium/cilium#37808, @borkmann)
* cilium: Remove deprecated lb-only mode for plain docker (cilium/cilium#37490, @borkmann)
* cilium: Unconditionally upsert neighbor entries (cilium/cilium#37352, @borkmann)
* cilium: various misc refactoring & improvements (cilium/cilium#37254, @borkmann)
* Clean up high scale ipcache leftovers (cilium/cilium#37308, @tklauser)
* cli: Added parameter to print used images (cilium/cilium#37390, @PhilipSchmid)
* cli: Ensure EGW tests trigger failures via actions (cilium/cilium#37649, @joestringer)
* cli: Support filtering --log-code-owners (cilium/cilium#37905, @joestringer)
* clustermesh: Consolidate hive (cilium/cilium#37620, @joestringer)
* CODEOWNERS: adjust ownership of the pkg/crypto subpackages (cilium/cilium#37204, @rolinh)
* CODEOWNERS: Assign EKS to ipsec as well (cilium/cilium#37719, @joestringer)
* CODEOWNERS: Datapath owns fragmentation docs (cilium/cilium#37770, @pchaigno)
* CODEOWNERS: IPsec ownership of key rotation GH action (cilium/cilium#37462, @pchaigno)
* CODEOWNERS: let @cilium/sig-lb own LRP connectivity tests (cilium/cilium#37193, @tklauser)
* CODEOWNERS: let sig-encryption own the bpftrace leak detection action (cilium/cilium#37866, @julianwiedmann)
* Configure the datapath using type-safe Go structs generated at compile time (cilium/cilium#36991, @ti-mo)
* connectivity: Add curl retry params for TLS inspection test (cilium/cilium#37424, @sayboras)
* connectivity: Add test for update TLS secret (cilium/cilium#36812, @sayboras)
* connectivity: Avoid hard-coded external target in warning log (cilium/cilium#37443, @sayboras)
* contrib: Reuse local build caches for builder.sh (cilium/cilium#37688, @joestringer)
* Create common cmdref package (cilium/cilium#36965, @HadrienPatte)
* create eks cluster without aws cni (cilium/cilium#35342, @aanm)
* ctmap: use `sync.OnceValue` to simplify `batchAPISupported` (cilium/cilium#36928, @tklauser)
* daemon,k8s: ServiceCache interface in preparation for adapter (cilium/cilium#37696, @joamaki)
* daemon/k8s: restore time.Now and TZ after TestScript (cilium/cilium#37299, @tklauser)
* daemon: Create NAT retries maps early on startup (cilium/cilium#37387, @pchaigno)
* daemon: remove deprecated no-op `--k8s-watcher-endpoint-selector` flag (cilium/cilium#37359, @tklauser)
* daemon: write CNI configuration with 0600 permissions (cilium/cilium#37589, @hhoover)
* datapath/sockets: Export various types in sockets library. (cilium/cilium#37313, @tommyp1ckles)
* datapath/sockets: Rework serialization and deserialization of netlink requests/responses (cilium/cilium#36930, @pippolo84)
* datapath: move probe for `bpf_skb_adjust_room` with `BPF_ADJ_ROOM_MAC` mode (cilium/cilium#37177, @tklauser)
* datapath: require FnGetSocketCookie (cilium/cilium#36768, @julianwiedmann)
* deps: update mcs-api dependency (cilium/cilium#37672, @MrFreezeex)
* Doc: Auto BGP router-id allocation for IPv6 (cilium/cilium#36736, @yushoyamaguchi)
* doc: Clarified CNP inter-NS handling (cilium/cilium#37484, @PhilipSchmid)
* doc: eks cluster restriction removed (cilium/cilium#37043, @viktor-kurchenko)
* doc: fix a typo in bpf.rst (cilium/cilium#37610, @ritwikranjan)
* docs: Add controller-runtime step in k8s upgrade (cilium/cilium#37415, @sayboras)
* docs: add documentation for operator managing identities (cilium/cilium#37320, @jshr-w)
* docs: add fragmentation docs (cilium/cilium#37730, @Jack-R-lantern)
* docs: add troubleshooting hubble deployment section (cilium/cilium#37596, @devodev)
* docs: Add Warning to Requires Policy Language (cilium/cilium#36644, @nathanjsweet)
* docs: Correct the release table format (cilium/cilium#37728, @sayboras)
* docs: document the `cilium.io/use-original-source-address` label for CECs (cilium/cilium#36806, @aetimmes)
* docs: Regenerate docs for cmdref (cilium/cilium#37444, @sayboras)
* docs: update CES documentation (cilium/cilium#37524, @marseel)
* Docs: update SIGs section (cilium/cilium#36969, @xmulligan)
* endpoint: Fix Lockdown Logic Duplication (cilium/cilium#37291, @nathanjsweet)
* Ensure the operator debug image always contains debug symbols. (cilium/cilium#37093, @EricMountain)
* envoy: Clean-up imported resources (cilium/cilium#37731, @sayboras)
* envoy: cleanup xds server initialization (cilium/cilium#37373, @mhofstetter)
* envoy: introduce slog logger for envoy package - part 1 (cilium/cilium#37735, @mhofstetter)
* envoy: Remove service/trace/v3 import (cilium/cilium#37771, @sayboras)
* examples: Fix the Mutual Authentication example to work with Apple M series (arm64) (cilium/cilium#37267, @alvaroaleman)
* experimental/lb: Add NodePort and HostPort addr refresher (cilium/cilium#37052, @brb)
* experimental: Add health server support (cilium/cilium#35820, @joamaki)
* experimental: Fix nodeport-addr.txtar (cilium/cilium#37238, @joamaki)
* experimental: Per service lb algorithm selection (cilium/cilium#36697, @DamianSawicki)
* experimental: Properly handle TCP/UDP differentiation (cilium/cilium#37164, @joamaki)
* experimental: ServiceCache/ServiceManager adapters, LocalRedirectPolicy support (cilium/cilium#37706, @joamaki)
* experimental: Test reliability improvements (cilium/cilium#37251, @joamaki)
* experimental: Update nodeport-addrs.txtar after merge race (cilium/cilium#37226, @joamaki)
* Fix ambiguous underspecified image definition for yq container. (cilium/cilium#37597, @rptaylor)
* Fix batched LRU flakes (cilium/cilium#37104, @tommyp1ckles)
* Fix command in policy-creation.rst (cilium/cilium#36880, @Javex)
* Fix darwin(macOS) contrib/scripts/builder.sh error (cilium/cilium#37760, @gyutaeb)
* Fix error handling in Azure IPAM causing to an infinite loop and a deadlock (cilium/cilium#37471, @HadrienPatte)
* Fix GetResources function in xds.Cache (cilium/cilium#36554, @kl52752)
* fix(deps): update all go dependencies main (main) (cilium/cilium#36720, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#36835, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#36863, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#36947, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#37066, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#37114, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#37240, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#36721, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#36944, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#37068, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#37410, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#37813, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#37941, @cilium-renovate[bot])
* fix(deps): update kubernetes packages to v0.32.1 (main) (cilium/cilium#37067, @cilium-renovate[bot])
* fix(deps): update kubernetes packages to v0.32.2 (main) (cilium/cilium#37664, @cilium-renovate[bot])
* fix(deps): update module github.com/aws/aws-sdk-go-v2/service/ec2 to v1.201.0 (main) (cilium/cilium#37242, @cilium-renovate[bot])
* fix(deps): update module github.com/azure/azure-sdk-for-go/sdk/azidentity to v1.8.2 (main) (cilium/cilium#37814, @cilium-renovate[bot])
* fix(deps): update module golang.org/x/net to v0.33.0 [security] (main) (cilium/cilium#36709, @cilium-renovate[bot])
* fix(deps): update opentelemetry-go monorepo to v1.33.0 (main) (cilium/cilium#36608, @cilium-renovate[bot])
* fix(deps): update opentelemetry-go monorepo to v1.34.0 (main) (cilium/cilium#37069, @cilium-renovate[bot])
* fixes default-cert typo improves cert-manager installation for gateway-api (cilium/cilium#36845, @xinity)
* Fixing typos in fqdn and policy pkg (cilium/cilium#37060, @vipul-21)
* fqdn: avoid re-parsing DNS server address/port (cilium/cilium#37558, @tklauser)
* gateway-api: Add docs for GatewayClass parameters (cilium/cilium#37821, @sayboras)
* gateway-api: Refator and cleanup codebase (cilium/cilium#37413, @sayboras)
* go.mod, tools: use Go 1.24 tool dependencies (cilium/cilium#37903, @tklauser)
* golangci-lint: Update config as per latest schema (cilium/cilium#36833, @sayboras)
* gops: Add option to disable gops agent (cilium/cilium#36387, @l1b0k)
* GRPC contract between Standalone DNS Proxy (SDP) and Cilium Agent (cilium/cilium#36121, @tamilmani1989)
* helm: add identityManagementMode option to allow cilium-operator to manage identities. (cilium/cilium#36411, @wedaly)
* hubble: move exporter creation behind interface in dynamic exporter (cilium/cilium#37367, @devodev)
* hubble: separate static and dynamic exporter configurations (cilium/cilium#36974, @devodev)
* identity: make locally-scoped identities observable (cilium/cilium#37288, @bimmlerd)
* Improve cilium-dbg policy output from reserved:unknown to ANY (cilium/cilium#36780, @liyihuang)
* Improve k8s-cilium-exec.sh (cilium/cilium#36832, @simplyatul)
* Improve Makefile help: add debug image commands for agent and operator (cilium/cilium#36790, @liyihuang)
* ingress, gateway-api: Refactor CEC translation (cilium/cilium#36822, @sayboras)
* ip: remove unused IPsToNetPrefixes (cilium/cilium#37915, @tklauser)
* ipsec: Prepare XFRM rules for Encrypted Overlay with IPv6 (cilium/cilium#37331, @pchaigno)
* iptables: pass -n flag when listing iptables (cilium/cilium#37929, @harsimran-pabla)
* k8s/apis/cilium.io/v2: remove unused AnnotationsEquals methods (cilium/cilium#37020, @tklauser)
* k8s/client: Rework fake client commands (cilium/cilium#37588, @joamaki)
* k8s/resource: NewTableEventStream to adapt from Resource to Tables (cilium/cilium#37382, @joamaki)
* k8s: Convert from Resource[Pod] to Table[LocalPod] (cilium/cilium#36101, @joamaki)
* labels: fix TestNewFrom test (cilium/cilium#37846, @giorio94)
* loader: ensure logger invocations print log line (cilium/cilium#37581, @rgo3)
* MAINTAINERS: Add Marco (cilium/cilium#37717, @pchaigno)
* maps/ctmap: don't log if batch iteration is not supported (cilium/cilium#37125, @tklauser)
* metrics: Make sampling interval configurable (cilium/cilium#37094, @joamaki)
* Migrate from net to net/netip in pkg/aws/eni (cilium/cilium#37167, @HadrienPatte)
* modularise namemanager (cilium/cilium#37644, @bimmlerd)
* namemanager efficiency improvements (cilium/cilium#37774, @bimmlerd)
* operator: log error for invalid network policies (cilium/cilium#37356, @marseel)
* option: remove unused DaemonConfig.KVstoreKeepAliveInterval field (cilium/cilium#36719, @tklauser)
* Per-CPU policy stats (cilium/cilium#37591, @jrajahalme)
* pkg/allocator: migrate to slog (cilium/cilium#37892, @aanm)
* pkg/byteorder: add loong64 platform support (cilium/cilium#36753, @wszqkzqk)
* pkg/ciliumidentity: Fix TestUpdateUsedCIDIsReverted test (cilium/cilium#37006, @ovidiutirla)
* pkg/ciliumidentity: skip CID creation for unmanaged pods (cilium/cilium#36779, @jshr-w)
* pkg/maps/nat/stats: cleanup: remove unused nth index from nat-stats. (cilium/cilium#36676, @tommyp1ckles)
* pkg/{alibabacloud,aws,azure,ipam}: migrate to slog (cilium/cilium#37882, @aanm)
* Policy test cleanups: round 2 (cilium/cilium#37058, @squeed)
* Policy test: stop using SearchContext, use Lookup instead, part 1 (cilium/cilium#36964, @squeed)
* policy: clean up PolicyMap types a bit (cilium/cilium#37330, @squeed)
* policy: fix missing error in GetSelectorPolicy() (cilium/cilium#36637, @squeed)
* policy: make `--enable-well-known-identities` a cell flag (cilium/cilium#37174, @tklauser)
* policy: Move exported Lookup to EndpointPolicy (cilium/cilium#36725, @jrajahalme)
* policy: optimize mapstate rule labels (cilium/cilium#37024, @jrajahalme)
* policy: Remove unneeded error return in GetSelectorPolicy() (cilium/cilium#36704, @christarazi)
* policy: Return labels of contributing rules from mapState.Lookup (cilium/cilium#36599, @jrajahalme)
* Preparation to test IPv4 and IPv6 explicitly in connectivity tests (cilium/cilium#37468, @gentoo-root)
* Prepare for v1.18 development cycle (cilium/cilium#36624, @aanm)
* proxy: Fix data race in proxyports test (cilium/cilium#37890, @jrajahalme)
* proxy: introduce slog logger for proxy package (cilium/cilium#37684, @mhofstetter)
* proxy: Only set/update L7 rules for DNS proxy (cilium/cilium#36809, @jrajahalme)
* README: Update releases (cilium/cilium#36678, @jrajahalme)
* README: Update releases (cilium/cilium#36941, @joestringer)
* README: Update releases (cilium/cilium#37228, @thorn3r)
* README: Update releases (cilium/cilium#37258, @aanm)
* Reconcile node neighbor table entries after recovering from carrier down events (cilium/cilium#37310, @dylandreimerink)
* release: post release bumps (cilium/cilium#37720, @bimmlerd)
* Remove always-nil error returns (cilium/cilium#36910, @tklauser)
* Remove eBPF section from README (cilium/cilium#37171, @xmulligan)
* Remove external workloads related leftovers (cilium/cilium#37737, @giorio94)
* Remove grpc-health-probe binary from the Hubble Relay image as it is no longer used (cilium/cilium#37806, @rolinh)
* Remove unnecessary nil checks in pkg/azure/api (cilium/cilium#37769, @HadrienPatte)
* Remove usage of depreciated aws.EndpointResolver (cilium/cilium#37098, @HadrienPatte)
* renovate: adjust kernel version strings (cilium/cilium#37522, @julianwiedmann)
* renovate: Allow go 1.23 for stable branches 1.14+ (cilium/cilium#37172, @sayboras)
* renovate: Fix the typo in validator config file name (cilium/cilium#37039, @sayboras)
* renovate: fix typo in ipsec action (cilium/cilium#37521, @julianwiedmann)
* renovate: Run post upgrade tasks for protoc related files (cilium/cilium#36772, @sayboras)
* renovate: Update cilium-envoy for v1.17 (cilium/cilium#36715, @sayboras)
* Replace `logging.SlogNopHandler` by `slog.DiscardHandler` (cilium/cilium#37847, @tklauser)
* Replace `pkg/math` by Go `min`/`max` builtins (cilium/cilium#37194, @tklauser)
* Revert "cli: Use error def of github.com/cilium/ebpf" (cilium/cilium#37687, @joestringer)
* Revert "contrib: Run builder script as non-root by default" (cilium/cilium#37736, @jrajahalme)
* Rewrite AllowOverwrite with a list (cilium/cilium#36095, @DamianSawicki)
* Runtime image set as environment variable (cilium/cilium#36972, @Artyop)
* service: beautify the error message on failed socket termination (cilium/cilium#37041, @julianwiedmann)
* Set available addresses when Azure returns nil IP configs (cilium/cilium#36379, @hemanthmalla)
* slog: migrate wireguard to slog (cilium/cilium#37849, @aanm)
* test: Cleanup jenkins and Envoy related code (cilium/cilium#36877, @sayboras)
* test: Update negative test case for TLS SNI (cilium/cilium#37386, @sayboras)
* to-fqdn: shorten critical section when updating a name (cilium/cilium#37467, @squeed)
* Tracking only nodeIPs in WireGuard AllowedIPs with overlay routing, while preserve native routing behavior of tracking both node and pods IPs from IPCache events. (cilium/cilium#35895, @smagnani96)
* Unit tests for SNAT port allocation algorithm. (cilium/cilium#37145, @gentoo-root)
* Update connectivity tests to correctly detect TLS Interception (cilium/cilium#37796, @youngnick)
* Update Go version to 1.24 in go.mod and fix resulting issues (cilium/cilium#37852, @tklauser)
* Update isFqdn fn based on the source github.com/miekg/dns (cilium/cilium#37037, @vipul-21)
* Update Overview image (cilium/cilium#37556, @xmulligan)
* Update README with new releases (cilium/cilium#36695, @aanm)
* Update releases and stable with v1.17.0 (cilium/cilium#37395, @aanm)
* Update RTD theme commit hash to fix slack url (cilium/cilium#37237, @paularah)
* Update Upgrade doc for 1.18 (cilium/cilium#36993, @liyihuang)
* Update USERS.md entry for SeatGeek to include Service Mesh (cilium/cilium#36807, @aetimmes)
* Update USERS.md to include KA-NABELL (cilium/cilium#37654, @kahirokunn)
* Use SDK pointer functions (cilium/cilium#37523, @HadrienPatte)
* vendor: Bump hive&statedb (cilium/cilium#37697, @joamaki)
* wireguard: introduce v2 pod-to-pod connectivity tests (cilium/cilium#37533, @ldelossa)

