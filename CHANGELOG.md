# Changelog

## v1.18.0-rc.1

Summary of Changes
------------------

**Minor Changes:**
* Change the default taints that Cilium tolerates to avoid deploying to a drained node (cilium/cilium#40475, @parlakisik)

**Bugfixes:**
* Bpf datapath TCP conntrack entries are (re)created only in the forward direction, solving an issue with freezing proxy connections when backend connection is re-opened. (cilium/cilium#40447, @jrajahalme)

**CI Changes:**
* gh: ariane: Add ipsec-upgrade test (cilium/cilium#40446, @parlakisik)
* golangci-lint: bump timeout to 30m (Backport PR cilium/cilium#40386, Upstream PR cilium/cilium#40300, @tklauser)
* ipsec: Extend BPF tests to cover IPv6 underlay (Backport PR cilium/cilium#40386, Upstream PR cilium/cilium#39997, @pchaigno)

**Misc Changes:**
* chore(deps): update all github action dependencies (v1.18) (cilium/cilium#40352, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (v1.18) (patch) (cilium/cilium#40315, @cilium-renovate[bot])
* chore(deps): update dependency go to v1.24.5 (v1.18) (cilium/cilium#40423, @cilium-renovate[bot])
* chore(deps): update docker.io/library/golang:1.24.4 docker digest to 20a022e (v1.18) (cilium/cilium#40314, @cilium-renovate[bot])
* clustermesh: add global service without selector test (Backport PR cilium/cilium#40386, Upstream PR cilium/cilium#40363, @giorio94)
* fix(deps): update all-dependencies (v1.18) (cilium/cilium#40316, @cilium-renovate[bot])
* fix(deps): update all-dependencies (v1.18) (cilium/cilium#40477, @cilium-renovate[bot])
* gateway-api: Add file base test for all supoported routes reconcilation (Backport PR cilium/cilium#40386, Upstream PR cilium/cilium#40318, @sayboras)
* gateway-api: Add file base test for Gateway reconcilation (Backport PR cilium/cilium#40386, Upstream PR cilium/cilium#40287, @sayboras)
* v1.18: .github: Re-add the labeler configuration (cilium/cilium#40310, @joestringer)
* v1.18: docs: Remove unnecessary upgrade guide sections (cilium/cilium#40311, @joestringer)
* install: Update image digests for v1.18.0-rc.0 (cilium/cilium#40303, @cilium-release-bot[bot])
* v1.18: docs: Document encapsulation options (cilium/cilium#40470, @pchaigno)

## v1.18.0-rc.0

Summary of Changes
------------------

**Major Changes:**
* Adds a free-text log field to policies, which is exposed in Hubble flows for easy correlation and searching. (cilium/cilium#39902, @squeed)
* Migrate from logrus to slog (cilium/cilium#39664, @aanm)
* The local REST policy API is deprecated. It will be removed in a subsequent release. (cilium/cilium#40212, @squeed)

**Minor Changes:**
* A new option `--identity-max-jitter` adds a random delay to when Cilium reacts to namespace label updates. This jitter is intended to improve kube-apiserver resource usage at high scale. (cilium/cilium#38031, @orange30)
* Add `cilium-dbg bpf socknat list` command to inspect socket-level LB reverse NAT map (cilium/cilium#38901, @pillai-ashwin)
* Add Cilium Shell to the clustermesh-apiserver, and register safe kvstore-related commands (cilium/cilium#40097, @giorio94)
* Add kpr.Cell for KPRConfig (cilium/cilium#40026, @brb)
* Add support for Multi-Pool IPAM in external KVstore mode (cilium/cilium#39638, @pippolo84)
* agent: reduce binary size of cilium-cni, cilium-agent and cilium-dbg by ~20 MB each (cilium/cilium#40005, @marseel)
* api: fix inconsistencies in policy rule marshalling behavior (cilium/cilium#39903, @fristonio)
* AWS ENI IPAM Mode: Added support for prefix delegation on AWS bare metal instances (cilium/cilium#39678, @41ks)
* Change the Endpoint IPAM range to derive a range from the Node's IPv6 address for ipv6 only cluster (cilium/cilium#39917, @liyihuang)
* cilium-cli: add clustermesh inspect-policy-default-local-cluster command (cilium/cilium#39828, @MrFreezeex)
* Cleanup deprecated helm values related to CiliumEndpointSlices (cilium/cilium#40070, @giorio94)
* cli,ci,ipsec: create key command and CI integration (cilium/cilium#37722, @viktor-kurchenko)
* cli: add suport for policy-default-local-cluster in connectivity tests (cilium/cilium#39786, @MrFreezeex)
* cli: Enable tolerations flag for all connectivity tests (cilium/cilium#40072, @HadrienPatte)
* daemon/helm: Deprecate --enable-svc-source-range-check (cilium/cilium#39899, @brb)
* Decode Cilium encapsulated traffic in Hubble/Monitor (cilium/cilium#37634, @kaworu)
* deps: Bump gateway-api version to latest (cilium/cilium#39809, @sayboras)
* egress-gateway: rename feature flag (cilium/cilium#40014, @rgo3)
* envoy: Cilium does no longer report brief version mismatch of Agent and Envoy during upgrade (cilium/cilium#39791, @marseel)
* identity: policy: add cluster label to node identities and add policy-default-local-cluster support for node identities (cilium/cilium#39827, @MrFreezeex)
* Improve EKS cluster name auto-detection by supporting both ARN and eksctl FQDN formats to avoid validation errors caused by overly long names. (cilium/cilium#39500, @zzuckerfrei)
* LocalRedirectPolicy: Helm option 'localRedirectPolicy' is now deprecated and 'localRedirectPolicies.enabled' should be used instead. The new helm option localRedirectPolicies.addressMatcherCIDRs can be used to limit which addresses are allowed in an AddressMatcher. (cilium/cilium#39858, @joamaki)
* pkg/lb: Misc KPR subflags support (cilium/cilium#39767, @brb)
* proxy: Bump envoy version to v1.34.x (cilium/cilium#40175, @sayboras)
* Reduces ToFQDN selector tail latency by pre-allocating selected identities. This slightly increases bpf policymap utilization. (cilium/cilium#39868, @squeed)
* Reworked the neighbor subsystem to be more resilient (cilium/cilium#39987, @dylandreimerink)
* The kube_proxy_healthz endpoint no longer requires Kubernetes control plane connectivity to succeed (cilium/cilium#39932, @liuyuan10)

**Bugfixes:**
* bgp: Perform full destroy of BGP server upon BGP instance removal (cilium/cilium#39859, @rastislavs)
* ci: fix conn-disrupt-test-check action (cilium/cilium#39901, @viktor-kurchenko)
* Cilium's DNS proxy no longer overzealously validates that DNS response answers match the query exactly, to work around questionable DNS server implementations. (cilium/cilium#39926, @bimmlerd)
* connectivity: Add tests for L7 LB feature (cilium/cilium#39577, @sayboras)
* Deny policies are now synced to Envoy so that they can be enforced for Ingress policies. (cilium/cilium#39736, @jrajahalme)
* Do not fail the agent startup in case IPv6 support is enabled and the node does not have an IPv6 address assigned yet (cilium/cilium#40143, @pippolo84)
* Fix IPAM IP release racing condition when IP reassigned back to ENI (cilium/cilium#40019, @victorcq)
* Fix kube-proxy healthz to return 503 if node in terminating state (cilium/cilium#40166, @tamilmani1989)
* GAMMA reconciler now supports attaching multiple HTTPRoutes to the same Service. (cilium/cilium#39922, @youngnick)
* gateway-api: Add service type validation for CGCC (cilium/cilium#40138, @sayboras)
* hubble automatically pick the `hubble-prefer-ipv6` to `true` if ipv4 not enabled (cilium/cilium#40210, @chengjoey)
* install/kubernetes: change mapDynamicSizeRatio from number to string (cilium/cilium#39834, @aanm)
* LBIPAM: Fix deletion of CiliumLoadBalancerIPPool with multiple IP blocks that led to an operator crash (cilium/cilium#40013, @pippolo84)
* Proxy is prevented from reporting an error reading /proc/net/ files for the disabled ipvX version. (cilium/cilium#39761, @gorozhin)
* Terminating backends are synchronized to Envoy now only if no active backends are available. (cilium/cilium#40279, @joamaki)

**CI Changes:**
* .github/ipsec-key-rotation: shorten to 1m (cilium/cilium#40032, @aanm)
* .github: check for hidden files in /mnt (cilium/cilium#39980, @aanm)
* .github: Run final steps when tests aren't skipped (cilium/cilium#40180, @joestringer)
* actions/post-logic: always run steps after previous step failures (cilium/cilium#39894, @aanm)
* Add scale test for lb-ipam (cilium/cilium#39276, @dylandreimerink)
* AWS-CNI and EKS CI conformance tests move to authentication only based on AssumeRole. (cilium/cilium#39797, @auriaave)
* bpf/tests: fix event map name (cilium/cilium#39919, @Andreagit97)
* bpf: Improve `ipsec_redirect` test (cilium/cilium#39873, @pchaigno)
* bpf: test: use pktgen__push_ipv*_packet() (cilium/cilium#39723, @julianwiedmann)
* ci/clustermesh: Add multipool IPAM matrix config (cilium/cilium#39995, @pippolo84)
* ci/clustermesh: Restore sysdump capturing (cilium/cilium#40055, @pippolo84)
* ci/multi-pool: Add test for dual stack (cilium/cilium#40142, @pippolo84)
* ci: Add check for executable files within the repository (cilium/cilium#39622, @marseel)
* ci: allow for running scale test on released versions (cilium/cilium#39865, @marseel)
* CI: Apply an ESP allow rule for GKE clusters to support IPsec VINE (cilium/cilium#39898, @ldelossa)
* ci: Avoid using tar old options (cilium/cilium#39895, @devodev)
* ci: extend scale test with dedicated service churn test (cilium/cilium#40109, @marseel)
* ci: fix post-logic action (cilium/cilium#40297, @marseel)
* ci: fix scale test on scheduled runs (cilium/cilium#40024, @marseel)
* ci: update scale-test-actions (cilium/cilium#40111, @marseel)
* ci: Use ubuntu 22.04 for lvh jobs (cilium/cilium#40140, @sayboras)
* connectivity: Include detailed failure messages in test report (cilium/cilium#39866, @aanm)
* fix(summary): arbitrary file access during archive extraction zipslip (cilium/cilium#39896, @odaysec)
* Fixes panic caused due to naming mismatch in bpf tests. (cilium/cilium#39958, @Surya-7890)
* gha: enable ipv6-only tunneling matrix entry in conformance-clustermesh (cilium/cilium#40106, @giorio94)
* gha: unbreak sysdump collection in scale test workflows (cilium/cilium#39984, @giorio94)
* golangci: Add forbidgo rule to deny unsafe netlink functions (cilium/cilium#40196, @gandro)
* healthserver: Add IPv6 script test case (cilium/cilium#39833, @tsotne95)
* ipsec: Extend BPF tests to cover IPv6 underlay (cilium/cilium#39997, @pchaigno)
* kubespray: Don't quote branch names in push trigger (cilium/cilium#40239, @joestringer)
* make, contrib/scripts: remove DefaultLogger LogSubsys check (cilium/cilium#39912, @tklauser)
* multipool: Extend conformance-multipool to test local node routes (cilium/cilium#40191, @pippolo84)
* Re-optimize CI build process (cilium/cilium#39802, @aanm)
* Remove duplicated boilerplate workflow code (cilium/cilium#39787, @aanm)
* Revert "ci: Use ubuntu 22.04 for lvh jobs" (cilium/cilium#40162, @sayboras)
* Revert "gha: prevent circular dependency in clustermesh-upgrade workflow" (cilium/cilium#40169, @giorio94)
* test: remove deprecated, ineffective provisioning flag (cilium/cilium#39884, @tklauser)
* workflow: add ariane scheduled list (cilium/cilium#40177, @brlbil)
* workflow: add k8s v1.33 in CI (cilium/cilium#40128, @brlbil)
* workflows: fix feature-summary-report (cilium/cilium#39849, @aanm)
* workflows: Run k8s e2e network workflow periodically (cilium/cilium#40178, @aditighag)

**Misc Changes:**
* "cilium-dbg service get" has been removed. Use "cilium-dbg service list" or "cilium-dbg shell -- db/get frontends 1.2.3.4:80/TCP" instead. (cilium/cilium#40022, @joamaki)
* .github/workflows: remove reviewers if ciliumbot approved PR (cilium/cilium#39989, @aanm)
* Add "Fence" for delaying initial endpoint regeneration (cilium/cilium#39998, @joamaki)
* Add "MetricScope" to the K8s-to-StateDB reflector (cilium/cilium#40030, @joamaki)
* Add Guida to Cilium USERS (cilium/cilium#40161, @avthart)
* Add initial script commands for kvstore testing (cilium/cilium#39965, @giorio94)
* Add Outscale to USERS.md (cilium/cilium#40114, @outscale-rce)
* Add OVHcloud in USERS.md (cilium/cilium#39925, @scraly)
* allocator: silence log messages (cilium/cilium#39908, @tklauser)
* Apply initResources to config container (cilium/cilium#39758, @anthony-unicare)
* ariane: Skip tests on stable.txt updates (cilium/cilium#40171, @qmonnet)
* auto-approve: add repository as part command (cilium/cilium#40050, @aanm)
* auto-approve: add repository as part command (cilium/cilium#40089, @aanm)
* bpf-map-event-buffers: Fix ipcache map name and usage (cilium/cilium#39971, @harsimran-pabla)
* bpf: consistently use `BPF_F_*` constants from x/sys/unix (cilium/cilium#39772, @tklauser)
* bpf: optimize map and program metrics collection (cilium/cilium#39870, @ti-mo)
* bpf: wireguard: simplify check for ICMPv6 NA (cilium/cilium#39657, @julianwiedmann)
* bpf:trace: adjust TRACE_PAYLOAD_LEN for overlay packets (cilium/cilium#38984, @smagnani96)
* bpf:wireguard: reuse MARK_MAGIC_ENCRYPT for encrypted packets (cilium/cilium#39651, @smagnani96)
* build(deps): bump tornado from 6.4.2 to 6.5 in /Documentation (cilium/cilium#40241, @dependabot[bot])
* Centralize policy incremental update logic (cilium/cilium#39970, @squeed)
* chore(deps): update all github action dependencies (main) (cilium/cilium#39946, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#40042, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (cilium/cilium#40084, @cilium-renovate[bot])
* chore(deps): update all github action dependencies (main) (patch) (cilium/cilium#40153, @cilium-renovate[bot])
* chore(deps): update all lvh-images main (main) (patch) (cilium/cilium#40037, @cilium-renovate[bot])
* chore(deps): update all lvh-images main (main) (patch) (cilium/cilium#40082, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#39878, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#39934, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#40081, @cilium-renovate[bot])
* chore(deps): update all-dependencies (main) (cilium/cilium#40214, @cilium-renovate[bot])
* chore(deps): update cilium/cilium-cli action to v0.18.4 (main) (cilium/cilium#39942, @cilium-renovate[bot])
* chore(deps): update cilium/cilium-cli action to v0.18.4 (main) (cilium/cilium#40083, @cilium-renovate[bot])
* chore(deps): update dependency cilium/little-vm-helper to v0.0.24 (main) (cilium/cilium#40262, @cilium-renovate[bot])
* chore(deps): update docker.io/library/golang:1.24.4 docker digest to 10c1318 (main) (cilium/cilium#40036, @cilium-renovate[bot])
* chore(deps): update go to v1.24.4 (main) (cilium/cilium#39943, @cilium-renovate[bot])
* chore(deps): update golangci/golangci-lint docker tag to v2.2.0 (main) (cilium/cilium#40263, @cilium-renovate[bot])
* chore(deps): update module github.com/go-viper/mapstructure/v2 to v2.3.0 [security] (main) (cilium/cilium#40250, @cilium-renovate[bot])
* chore(deps): update quay.io/cilium/cilium-envoy docker tag to v1.33.3-1749082895-be938e41a8b374f8084ecbf1d6883510e4059620 (main) (cilium/cilium#39905, @cilium-renovate[bot])
* chore(deps): update quay.io/cilium/cilium-envoy docker tag to v1.33.3-1749716792-9cbedf28d3f4e8d7ff482744138ac3bdf65a868c (main) (cilium/cilium#40038, @cilium-renovate[bot])
* chore(deps): update renovate dependencies to v40.49.3 (main) (cilium/cilium#39945, @cilium-renovate[bot])
* chore(deps): update renovate dependencies to v40.55.1 (main) (cilium/cilium#40041, @cilium-renovate[bot])
* chore(deps): update renovate dependencies to v40.60.0 (main) (cilium/cilium#40085, @cilium-renovate[bot])
* chore(deps): update renovate dependencies to v41 (main) (cilium/cilium#40156, @cilium-renovate[bot])
* chore(deps): update renovate dependencies to v41.16.1 (main) (cilium/cilium#40264, @cilium-renovate[bot])
* ci: Add Kubespray conformance workflow (cilium/cilium#39741, @ErikJiang)
* cilium, build: Use -ftrap-function=__undefined_trap (cilium/cilium#39986, @borkmann)
* cilium, socklb: Constify ctx argument in sock4_delete_revnat (cilium/cilium#40087, @borkmann)
* cilium-cli: clean up log messages (cilium/cilium#40101, @tklauser)
* cilium-cli: Standardize build args in dockerfile (cilium/cilium#40126, @HadrienPatte)
* cilium: fix socket termination for v4-in-v6 clients (cilium/cilium#39994, @borkmann)
* cilium: Provide a "root" job.Group (cilium/cilium#39738, @joamaki)
* ciliumenvoyconfig: Add 'Labels' to CEC (cilium/cilium#40057, @joamaki)
* ciliumenvoyconfig: Add job to mark CEC resources synced (cilium/cilium#39910, @joamaki)
* cli: Add OpenShift cluster Kind (cilium/cilium#40012, @nebril)
* cli: Do not directly depend on DaemonConfig (cilium/cilium#39907, @brb)
* clustermesh/test: let kvstore service entries match expected format (cilium/cilium#39967, @giorio94)
* cni/connector: Minor cleanups (cilium/cilium#40011, @gandro)
* cni: fix logging setup for cni plugin (cilium/cilium#40234, @fristonio)
* CODEOWNERS: Have cilium/egress-gateway own relevant examples, manifest (cilium/cilium#40122, @qmonnet)
* contrib/git: add merge drivers to automate post-merge commands (cilium/cilium#40189, @aanm)
* contrib: add script for comparing verifier instructions from logs (cilium/cilium#39921, @smagnani96)
* daemon/k8s: Table[Namespace] (cilium/cilium#37848, @joamaki)
* daemon: Make KPR initialization routines closer to stateless (cilium/cilium#39975, @brb)
* datapath/linux/probes: simplify probe functions by using sync.OnceValue (cilium/cilium#39766, @tklauser)
* Deprecate `egress-multi-home-ip-rule-compat` flag (cilium/cilium#39914, @gandro)
* deps: Replace gopkg.in/yaml.v3 with go.yaml.in/yaml/v3 (cilium/cilium#40224, @HadrienPatte)
* disk-cleanup: parallelize cleanup process to speed up step (cilium/cilium#40054, @aanm)
* DNS proxy: cell cleanups (cilium/cilium#39732, @squeed)
* doc:ipsec:kvstore: explicit limitations that could lead to staling XFRM states and no connectivity (cilium/cilium#39719, @smagnani96)
* docs/ipsec: Fix incorrect statement on hostns encryption (cilium/cilium#40133, @pchaigno)
* docs: Add cmdref for cilium-cli (cilium/cilium#40017, @HadrienPatte)
* docs: Add Kubespray cluster creation instructions to the quick installation guide (cilium/cilium#39423, @ErikJiang)
* docs: fix helm-values.rst generation (cilium/cilium#40207, @aanm)
* docs: fix syntax error for configuration/vlan bypass setting (cilium/cilium#39961, @max06)
* docs: Mention Helm values of KPR deprecated flags (cilium/cilium#40091, @brb)
* docs: Remove upgrade doc to rebase ConfigMap (cilium/cilium#40200, @joestringer)
* docs: Update python dependencies (cilium/cilium#40254, @joestringer)
* endpointmanager: clean up unused EndpointManager interface methods (cilium/cilium#40183, @tklauser)
* eni: Associate EIPs with ENIs instead of instance (cilium/cilium#39654, @HadrienPatte)
* Extract the Hubble metrics server into its own Hive cell Include more details about the Hubble metrics server state in cilium-status (cilium/cilium#39549, @devodev)
* Final migration of all logging.DefaultSlogLogger to their local logger instance and improvements in pkg/logging (cilium/cilium#39889, @aanm)
* Fix the typo to get the correct ipv6 pool name. (cilium/cilium#39877, @liyihuang)
* fix(deps): update all go dependencies main (main) (cilium/cilium#39947, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#40043, @cilium-renovate[bot])
* fix(deps): update all go dependencies main (main) (cilium/cilium#40086, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#39944, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#40039, @cilium-renovate[bot])
* fix(deps): update aws-sdk-go-v2 monorepo (main) (cilium/cilium#40154, @cilium-renovate[bot])
* fix(deps): update kubernetes packages to v0.33.2 (main) (cilium/cilium#40155, @cilium-renovate[bot])
* fix(deps): update module github.com/aws/aws-sdk-go-v2/service/ec2 to v1.227.0 (main) (cilium/cilium#40265, @cilium-renovate[bot])
* fix(deps): update module github.com/azure/azure-sdk-for-go/sdk/azidentity to v1.10.1 (main) (cilium/cilium#40040, @cilium-renovate[bot])
* fix(deps): update opentelemetry-go monorepo to v1.37.0 (main) (cilium/cilium#40266, @cilium-renovate[bot])
* fix: Fix implicit conversion warnings in bpf_sec_to_mono macro (cilium/cilium#39845, @vipul-21)
* gateway-api: Convert reconcile test to file based (cilium/cilium#40118, @sayboras)
* gh/workflows: Bump "K8s Network E2E tests" timeout (cilium/cilium#40053, @brb)
* go.mod, vendor: bump github.com/google/go-github to v72 (cilium/cilium#40104, @tklauser)
* helm: add Envoy image to pre-flight (cilium/cilium#39670, @gsstuart)
* helm: add validation for removed CiliumEndpointSlice-related values (cilium/cilium#40079, @giorio94)
* hive/health: Remove info logging when stopping (cilium/cilium#39891, @joamaki)
* hive: Log fence errors at Info level (cilium/cilium#40059, @joamaki)
* install/kubernetes: fix values.yaml generation (cilium/cilium#40204, @aanm)
* install/kubernetes: Improve doc for `cni.configMap` and `cni.configMapKey` (cilium/cilium#39916, @pippolo84)
* Introduce traffic classifiers CLS_FLAG_{VXLAN,GENEVE} for tracing overlay traffic. (cilium/cilium#39650, @smagnani96)
* ipam/service/allocator: remove always-`nil` `Allocate{,Next}` return value (cilium/cilium#39924, @tklauser)
* ipcache/metadata: flatten metadata once on read (cilium/cilium#40274, @squeed)
* k8s/client: Properly return AlreadyExists in Create (cilium/cilium#39897, @joamaki)
* k8s/client: Set ResourceVersion in Create() (cilium/cilium#39883, @joamaki)
* k8s/testutils: Fix emitting of watch delete events (cilium/cilium#40077, @joamaki)
* lint: Update staticcheck config in golangci-lint (cilium/cilium#40201, @sayboras)
* loadbalancer/reflectors: Increase buffer wait time to 500ms (cilium/cilium#40221, @joamaki)
* loadbalancer: Add rate limiting to reconcilation logging (cilium/cilium#40029, @joamaki)
* loadbalancer: Fix flakyness in script tests (cilium/cilium#40080, @joamaki)
* loadbalancer: Fix migrating backend between endpoint slices (cilium/cilium#40288, @joamaki)
* loadbalancer: Fix socket termination of non-host namespaces (cilium/cilium#40127, @joamaki)
* loadbalancer: increase timeout for initial sync (cilium/cilium#40185, @marseel)
* loadbalancer: Merge EndpointSlices together (cilium/cilium#40184, @joamaki)
* loadbalancer: Move BPF key/value types to maps, move pkg/maps/lbmap to legacy/lbmap (cilium/cilium#39867, @joamaki)
* loadbalancer: Optimize ServiceName and L3n4Addr key construction (cilium/cilium#40277, @joamaki)
* loadbalancer: Use revisions to detect frontend and backend orphans (cilium/cilium#40271, @joamaki)
* make: build and install cilium-cni binary in fast targets (cilium/cilium#39909, @tklauser)
* make: fix cilium-cni binary installation in fast targets (cilium/cilium#40220, @giorio94)
* Makefile.kind: add make kind-dual (cilium/cilium#40231, @msune)
* Makefile: refactor clustermesh-apiserver target (cilium/cilium#39988, @giorio94)
* Makefile: Require API generation commands to succeed (cilium/cilium#40199, @joestringer)
* maps/policymap: clean up test code (cilium/cilium#40031, @tklauser)
* metrics: Add AgentCell (cilium/cilium#39990, @joamaki)
* Move PolicyMetrics interface from pkg/policy/api to pkg/policy/types (cilium/cilium#40016, @TheBeeZee)
* mtu/endpoint_updater.go: Check for unix.EINVAL not os.ErrInvalid (cilium/cilium#39658, @dylandreimerink)
* operator/secretsync: silence reconciliation logs (cilium/cilium#40217, @tklauser)
* operator: Reimplement service synchronization without service cache (cilium/cilium#39837, @joamaki)
* operator: remove deprecated CES options (cilium/cilium#39803, @marseel)
* pkg/bpf: fix out of date godocs for batch iterator. (cilium/cilium#37457, @tommyp1ckles)
* pkg/endpoint: optimize UpdateLogger function (cilium/cilium#40078, @aanm)
* pkg/fswatcher: Rewrite without underlying use of fsnotify (cilium/cilium#38537, @glibsm)
* pkg/loadbalancer allocation optimizations and cleanup (cilium/cilium#40218, @joamaki)
* pkg/loadbalancer/maps: Create the affinity[46] maps (cilium/cilium#39979, @joamaki)
* policy/k8s: Refactor service watching to use Table[Service,Backend] (cilium/cilium#39928, @joamaki)
* policy: clustermesh: policy-default-local-cluster will be set by default in 1.19 see the upgrade guide for guidance on how to prepare your migration if you are using ClusterMesh and have network policies (cilium/cilium#40108, @MrFreezeex)
* policy: remove unused `EndpointSet` type (cilium/cilium#40225, @tklauser)
* Prepare for release v1.18.0-pre.3 (cilium/cilium#39850, @cilium-release-bot[bot])
* Prepare v1.18 stable branch (cilium/cilium#40240, @joestringer)
* Prevent Cilium operator failures on OpenShift due to permissions missing for gops. (cilium/cilium#40001, @fgiloux)
* README: Update releases (cilium/cilium#39852, @aanm)
* README: Update releases (cilium/cilium#40136, @gentoo-root)
* Reduce log noise by suppressing repeated "regenerating all endpoints" messages during normal periodic operations. (cilium/cilium#39856, @AritraDey-Dev)
* Refactor and generalize the clustermesh-apiserver, and improve testing (cilium/cilium#40034, @giorio94)
* Refactor Cilium agents and operator to depend on kvstore cell (cilium/cilium#39927, @giorio94)
* Refactor policy correlation info lookup (cilium/cilium#39770, @tklauser)
* Refactor the enforcement of the CiliumClusterConfig (cilium/cilium#40069, @giorio94)
* Remove last logrus remnants from non-test code (cilium/cilium#40186, @tklauser)
* Remove old load-balancing control-plane (cilium/cilium#39915, @joamaki)
* renovate: Allow cilium-proxy 1.33.x for 1.17 branch (cilium/cilium#40090, @sayboras)
* Simplify the kvstore client initialization and its API (cilium/cilium#39966, @giorio94)
* slog final cleanups (cilium/cilium#40195, @aanm)
* Test failure message included in Junit report of the connectivity tests. (cilium/cilium#40035, @mathpl)
* test: ensure the daemon shuts down cleanly (cilium/cilium#39832, @squeed)
* tls: Remove mock TLS config GetCertificate method (cilium/cilium#39753, @HadrienPatte)
* toEntities/fromEntities CRD description missing options (cilium/cilium#40182, @erickuiper)
* tools: Move codeowners library from cilium-cli dir (cilium/cilium#40253, @joestringer)
* vendor: Bump to StateDB v0.4.1 (cilium/cilium#40121, @joamaki)
* wireguard:fix: invalid dereference of nil peer config (cilium/cilium#40281, @smagnani96)

