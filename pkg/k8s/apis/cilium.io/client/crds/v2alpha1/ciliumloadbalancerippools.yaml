
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: ciliumloadbalancerippools.cilium.io
spec:
  group: cilium.io
  names:
    categories:
    - cilium
    kind: CiliumLoadBalancerIPPool
    listKind: CiliumLoadBalancerIPPoolList
    plural: ciliumloadbalancerippools
    shortNames:
    - ippools
    - ippool
    - lbippool
    - lbippools
    singular: ciliumloadbalancerippool
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.disabled
      name: Disabled
      type: boolean
    - jsonPath: .status.conflicting
      name: Conflicting
      type: boolean
    - jsonPath: .status.totalCounts.available
      name: IPs Available
      type: integer
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v2alpha1
    schema:
      openAPIV3Schema:
        description: CiliumLoadBalancerIPPool is a Kubernetes third-party resource
          which is used to defined pools of IPs which the operator can use to to allocate
          and advertise IPs for Services of type LoadBalancer.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: Spec is a human readable description for a BGP load balancer
              ip pool.
            properties:
              cidrs:
                description: CiliumLoadBalancerIPPoolCIDRBlock is a list of CIDRs
                  comprising this IP Pool
                items:
                  description: CiliumLoadBalancerIPPoolCIDRBlock describes a single
                    CIDR block.
                  properties:
                    cidr:
                      format: cidr
                      pattern: (^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))$)|(^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))$)
                      type: string
                  required:
                  - cidr
                  type: object
                minItems: 1
                type: array
              disabled:
                default: false
                description: Disabled, if set to true means that no new IPs will be
                  allocated from this pool. Existing allocations will not be removed
                  from services.
                type: boolean
              serviceSelector:
                description: ServiceSelector selects a set of services which are eligible
                  to receive IPs from this
                properties:
                  matchExpressions:
                    description: matchExpressions is a list of label selector requirements.
                      The requirements are ANDed.
                    items:
                      description: A label selector requirement is a selector that
                        contains values, a key, and an operator that relates the key
                        and values.
                      properties:
                        key:
                          description: key is the label key that the selector applies
                            to.
                          type: string
                        operator:
                          description: operator represents a key's relationship to
                            a set of values. Valid operators are In, NotIn, Exists
                            and DoesNotExist.
                          enum:
                          - In
                          - NotIn
                          - Exists
                          - DoesNotExist
                          type: string
                        values:
                          description: values is an array of string values. If the
                            operator is In or NotIn, the values array must be non-empty.
                            If the operator is Exists or DoesNotExist, the values
                            array must be empty. This array is replaced during a strategic
                            merge patch.
                          items:
                            type: string
                          type: array
                      required:
                      - key
                      - operator
                      type: object
                    type: array
                  matchLabels:
                    additionalProperties:
                      description: MatchLabelsValue represents the value from the
                        MatchLabels {key,value} pair.
                      maxLength: 63
                      pattern: ^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$
                      type: string
                    description: matchLabels is a map of {key,value} pairs. A single
                      {key,value} in the matchLabels map is equivalent to an element
                      of matchExpressions, whose key field is "key", the operator
                      is "In", and the values array contains only "value". The requirements
                      are ANDed.
                    type: object
                type: object
            required:
            - cidrs
            type: object
          status:
            description: "Status is the status of the IP Pool. \n It might be possible
              for users to define overlapping IP Pools, we can't validate or enforce
              non-overlapping pools during object creation. The Cilium operator will
              do this validation and update the status to reflect the ability to allocate
              IPs from this pool."
            properties:
              cidrCounts:
                additionalProperties:
                  description: CiliumLoadBalancerIPCounts contains information about
                    how many IPs have been allocated and are available
                  properties:
                    available:
                      description: Available is the amount of IPs which can still
                        be allocated
                      type: integer
                    total:
                      description: Total is the total amount of allocatable IPs
                      type: integer
                    used:
                      description: Used is the amount of IPs that are currently allocated
                      type: integer
                  required:
                  - available
                  - total
                  - used
                  type: object
                description: CIDRCounts has counts per CIDR
                type: object
              conflictReason:
                description: ConflictReason contains the reason for the conflict
                type: string
              conflicting:
                description: Conflicting indicates that the CIDRs in the pool conflict
                  with another pool or themselves. Conflicting pools are not considered
                  for allocation.
                type: boolean
              totalCounts:
                description: TotalCounts contains the total counts of all CIDRs
                properties:
                  available:
                    description: Available is the amount of IPs which can still be
                      allocated
                    type: integer
                  total:
                    description: Total is the total amount of allocatable IPs
                    type: integer
                  used:
                    description: Used is the amount of IPs that are currently allocated
                    type: integer
                required:
                - available
                - total
                - used
                type: object
            required:
            - cidrCounts
            - conflictReason
            - conflicting
            - totalCounts
            type: object
        required:
        - metadata
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
